{"name": "test_bonus_card", "status": "failed", "statusDetails": {"message": "AssertionError", "trace": "self = <tests.test_final2.TestClass3 object at 0x000001B6436BEB90>\nset_up_browser = <seleniumwire.webdriver.Chrome (session=\"d08b7b411965cf2115bb85026b03e28b\")>\n\n    @allure.feature('тест сьют Сайт Pizzeria, flou 3')\n    @allure.description('Выбор товаров в корзину, переход на страницу авторизации, оформление заказа, проверка работы бонусной карты')\n    def test_bonus_card(self, set_up_browser):\n        driver = set_up_browser\n        driver.maximize_window()\n        num = str(random.randrange(1, 999999))\n        order_list = ['username', 'lastname', 'Казанская 52 - 64', 'Казань', 'Татарстан', '420000',\n                      '78435555555', 'ex' + num + '@inbox.ru']\n        logging.info('Открыие сайта Pizzeria')\n        driver.get(\"http://pizzeria.skillbox.cc/\")\n        time.sleep(8)\n        logging.info('Заполнение корзины:')\n        push_product_to_card(driver)\n        time.sleep(2)\n        elem = driver.find_element(By.XPATH, '//a[text() = \"Мой аккаунт\"]')\n        elem.click()\n        logging.info('Процедура регистрации')\n        elem = driver.find_element(By.XPATH, '//button[@class=\"custom-register-button\"]')\n        elem.click()\n        time.sleep(2)\n        registration(driver, num, order_list)\n        elem = driver.find_element(By.XPATH, '//li[@ id = \"menu-item-363\"]/a[text() = \"Бонусная программа\"]')\n        elem.click()\n        time.sleep(5)\n        elem = driver.find_element(By.XPATH, '//input[@id = \"bonus_username\"]')\n        elem.click()\n        elem.send_keys(order_list[0])\n        elem = driver.find_element(By.XPATH, '//input[@id = \"bonus_phone\"]')\n        elem.click()\n        elem.send_keys(order_list[6])\n        elem = driver.find_element(By.XPATH, '//button[@name = \"bonus\"]')\n        elem.click()\n        alert = driver.switch_to.alert\n        alert.accept()\n        time.sleep(5)\n        logging.info('Переход к корзину')\n        elem = driver.find_element(By.XPATH, '//li[@id = \"menu-item-29\"]/a[contains(text(), \"Корзина\")]')\n        elem.click()\n        logging.info('Переход к оплате')\n        driver.find_element(By.XPATH, '//a[@class=\"checkout-button button alt wc-forward\"]').click()\n        logging.info('Ввод реквизитов доставки: Имя, Фамилия, Адрес, Город, Обл, Индекс, Телефон, Дата заказа...')\n        input_reg_form_data(2, driver, order_list)\n        price = driver.find_element(By.XPATH, '//tr/th[contains(text(), \"Subtotal:\")]//following::span[1]').text\n        total_price = driver.find_element(By.XPATH, '//tr/th[contains(text(), \"Total:\")]//following::span[1]').text\n>       proverka_skidki(3, price, total_price)\n\ntest_final2.py:60: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nflag = 3, price = '3020,00₽', total_price = '3020,00₽'\n\n    def proverka_skidki(flag, price, total_price):\n        price1 = (price[:-1])\n        price1 = price1.replace(',', '.')\n        total_price1 = (total_price[:-1])\n        total_price1 = total_price1.replace(',', '.')\n        print(price1, total_price1)\n        if flag == 1:\n            assert float(price1) - float(price1) * 0.1 == float(total_price1)\n        elif flag == 2:\n            assert float(price1) == float(total_price1)\n        else:\n>           assert float(price1) - float(price1) * 0.15 == float(total_price1)\nE           AssertionError\n\n..\\src\\actions\\proverka_skidki.py:12: AssertionError"}, "description": "Выбор товаров в корзину, переход на страницу авторизации, оформление заказа, проверка работы бонусной карты", "attachments": [{"name": "log", "source": "577d0254-1499-45dd-a1e8-c13a3e759f89-attachment.txt", "type": "text/plain"}], "start": 1701122327959, "stop": 1701122389409, "uuid": "5fc05bf0-62ee-4386-b1fb-9008b26017a3", "historyId": "26449b9c9f9e0ef826eef7244b851465", "testCaseId": "26449b9c9f9e0ef826eef7244b851465", "fullName": "test_final2.TestClass3#test_bonus_card", "labels": [{"name": "feature", "value": "тест сьют Сайт Pizzeria, flou 3"}, {"name": "suite", "value": "test_final2"}, {"name": "subSuite", "value": "TestClass3"}, {"name": "host", "value": "DESKTOP-FAS3GBR"}, {"name": "thread", "value": "3020-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_final2"}]}